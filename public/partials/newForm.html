<header ng-include="'partials/header.html'"></header>
<div class="submitForm">
<h1 class="special1">Add A New Recipe</h1>

<form id="newForm">
	<!-- RECIPE NAME -->
	<div class="row">
        <div class="input-field col s12">
          <input type="text" class="validate" ng-model="recipes.name";>
          <label for="recipe name">Recipe Name</label>
        </div>
    </div>
<!-- 	<label class="text-highlight">Recipe Name</label>
	<input class="formStyle" type="text" placeholder="Mom's lasagna" ng-model="recipes.name" required/> -->

	<!-- AUTHOR -->
	<div class="row">
        <div class="input-field col s12">
          <input type="text" class="validate" ng-model="recipes.author">
          <label for="author">Author</label>
        </div>
    </div>
	<!-- <label class="text-highlight">Author</label>
	<input class="formStyle" type= "text" ng-model="recipes.author" placeholder="Josh Teo" required/> -->

	<!-- COOK BOOK - NOT CURRENTLY IN USE, KEEP FOR 2.0 IMPLEMENTATION -->
	<!-- <div class="row">
        <div class="input-field col s12">
          <input type="text" class="validate" ng-model="recipes.cookbook" style = "height:5rem">
          <label for="cook book">Cook Book</label>
        </div>
    </div> -->
	<!-- <label class="text-highlight">Cookbook</label>
	<input class="formStyle" type="text" ng-model="recipes.cookbook" placeholder="Cookbook (default 'My Cookbook')" required> -->

	<!-- TAGS FORM -->
	<div class="input-field col s12">
  		<input type="text" ng-model="tag" class="validate">
  		<label>Tags</label>
	<button class="formStyle btn waves-effect waves-teal list-edit"
	name="button" ng-click="addTags()" class="text-highlight">Add</button>
	  <ul>
	    <li class="text-highlight" ng-repeat="tag in recipes.tag | filter:filterList">{{tag | lowercase}}
	      <div>
	        <a href="" class="edit" ng-show="!showEditBar" ng-click="showEditBar = !showEditBar">edit</a>
	        <a href="" class="save" ng-show="showEditBar" ng-click="showEditBar = !showEditBar">save</a>
	        <a href="" class="delete" ng-click="removeTags($index)">delete</a>
	        <input class="formStyle" type="text" ng-show="showEditBar" ng-model="tag">
	      </div>
	    </li>
	  </ul>
	</div>
	<!-- END OF TAGS -->
	<!-- IMAGE -->
	<div class="input-field col s12">
	<label id="imageLabel" for="image">Image</label>
	<br>
	<br>
  	<progress value="0" max="100" id="uploader">0%</progress>
  	<br>
  	<input type="file" value="upload" class="validate" id="fileButton" ng-model="recipes.image"/>
  	</div>

	<!-- RECIPE ORIGIN -->
	<div class="input-field col s12">
	<input class="validate" type="text" id="history of recipe" ng-model="recipes.originStory">
	<label for="text">Recipe Origin</label>
	<br>
	</div>

	<!-- INGREDIENT FORM -->
	<div class="input-field col s12">
  		<input class="validate" type="text" ng-model="ingredient">
  		<label for="ingredients">Ingredients</label>
  		<button class="formStyle btn waves-effect waves-teal list-edit"
					ng-click="addIngredient()" name="button" class="text-highlight">Add to List</button>
		<ul>
      <li class="text-highlight" ng-repeat="ingredient in recipes.ingredients | filter:filterList">{{ingredient | lowercase}}
        <div>
          <a href="" class="edit" ng-show="!showEditBar" ng-click="showEditBar = !showEditBar">edit</a>
          <a href="" class="save" ng-show="showEditBar" ng-click="showEditBar = !showEditBar">save</a>
          <a href="" class="delete" ng-click="removeIngredient($index)">delete</a>
          <input type="text" ng-model="ingredient" ng-show="showEditBar" class="formStyle" />
        </div>
      </li>
    </ul>
    </div>
	<!-- END OF INGREDIENTS -->

  <!-- START OF INSTRUCTIONS/STEPS -->
  <div class="input-field col s12">
  	<input class="validate" type="text" ng-model="instruction" name="name" value="">
  	<label for="instructions">Instructions in Steps</label>
  <button class="formStyle btn waves-effect waves-teal list-edit"
					ng-click="addInstruction()" name="button" class="text-highlight">Add instructions</button>
		<ol>
      <li class="text-highlight" ng-repeat="instruction in recipes.instructions| filter:filterList">{{instruction | lowercase}}
        <div>
					<a href="" class="edit" ng-show="!showEditBar" ng-click="showEditBar = !showEditBar">edit</a>
					<a href="" class="save" ng-show="showEditBar" ng-click="showEditBar = !showEditBar">save</a>
          <a href="" class="delete" ng-click="removeInstruction($index)">delete</a>
          <input type="text" ng-model="instruction" ng-show="showEditBar" class="formStyle" />
        </div>
      </li>
    </ol>
	</div>

		<!-- link ng-click to a submit function -->
		<button class="btn waves-effect waves-red" type="button" ng-click="submitRecipe(recipes)">OK</button>
    <button class="btn waves-effect waves-red" type="button" ng-click="" ui-sref="cookbook">Cancel</button>
</form>
</div>
